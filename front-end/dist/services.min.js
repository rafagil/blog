angular.module("rafaelgil.blog.services",["restangular","ngSanitize"]).config(["RestangularProvider",function(e){e.setBaseUrl("/api")}]),angular.module("rafaelgil.blog.services").factory("EditorFactory",[function(){"use strict";var e={};return e.build=function(e){return new Pen({editor:document.querySelector(e),list:["insertimage","blockquote","h2","h3","p","code","insertorderedlist","insertunorderedlist","inserthorizontalrule","indent","outdent","bold","italic","underline","createlink"]})},e}]),angular.module("rafaelgil.blog.services").factory("LoginService",["Restangular","$q",function(e,r){"use strict";var t={currentUser:null};return t.login=function(r){return e.all("login").post(r).then(function(e){t.currentUser=e})},t.canSetup=function(){return e.one("setup").get().then(function(){return!0})},t.createUser=function(r){return e.all("setup").all("users").post(r)},t.getCurrentUser=function(){var n=r.defer();return t.currentUser?n.resolve(t.currentUser):e.all("users").one("current").get().then(function(e){e&&(t.currentUser=e,n.resolve(e))}),n.promise},t}]),angular.module("rafaelgil.blog.services").factory("PostsService",["Restangular","$sce",function(e,r){"use strict";var t={},n=function(e){return r.trustAsHtml(e.summary),r.trustAsHtml(e.contents),e};return t.list=function(){return e.all("posts").getList().then(function(e){return e.forEach(function(e){n(e)}),e})},t.find=function(r){return e.one("posts").get({url:r}).then(function(e){return n(e)})},t.create=function(r){return e.all("posts").post(r)},t.update=function(e){return e.put()},t}]);