!function(){"use strict";function t(t){t.setBaseUrl("/api")}function e(t){return t.withConfig(function(t){t.setFullResponse(!0)})}angular.module("rafaelgil.blog.services",["restangular","ngSanitize"]).config(["RestangularProvider",t]).factory("RestFullResponse",["Restangular",e])}(),function(){"use strict";function t(){var t={};return t.build=function(t){return new Pen({editor:document.querySelector(t),list:["insertimage","blockquote","h2","h3","p","code","insertorderedlist","insertunorderedlist","inserthorizontalrule","indent","outdent","bold","italic","underline","createlink"]})},t}angular.module("rafaelgil.blog.services").factory("EditorFactory",t)}(),function(){"use strict";function t(t,e){var n={currentUser:null};return n.login=function(e){return t.all("login").post(e).then(function(t){n.currentUser=t})},n.canSetup=function(){return t.one("setup").get().then(function(){return!0})},n.createUser=function(e){return t.all("setup").all("users").post(e)},n.getCurrentUser=function(){var r=e.defer();return n.currentUser?r.resolve(n.currentUser):t.all("users").one("current").get().then(function(t){t&&(n.currentUser=t,r.resolve(t))}),r.promise},n}angular.module("rafaelgil.blog.services").factory("LoginService",["Restangular","$q",t])}(),function(){"use strict";function t(t,e){var n={pages:[]};return n.getPages=function(){return n.pages.length?e(function(t){return n.pages}):t.list().then(function(t){return n.pages=t.plain(),n.pages})},n}angular.module("rafaelgil.blog.services").factory("MainService",["PageService","$q",t])}(),function(){"use strict";function t(t,e){var n={},r=function(t){return e.trustAsHtml(t.summary),e.trustAsHtml(t.contents),t};return n.list=function(){return t.all("pages").getList().then(function(t){return t})},n.find=function(e){return t.one("pages").get({url:e}).then(function(t){return r(t)})},n.create=function(e){return t.all("pages").post(e)},n.update=function(t){return t.put()},n}angular.module("rafaelgil.blog.services").factory("PageService",["Restangular","$sce",t])}(),function(){"use strict";function t(t,e,n){var r={},u=function(t){return n.trustAsHtml(t.summary),n.trustAsHtml(t.contents),t};return r.list=function(t){return e.all("posts").getList({},t).then(function(t){var e=t.data;return e.forEach(function(t){u(t)}),{posts:e,totalResults:parseInt(t.headers("totalResults"),10)}})},r.find=function(e){return t.one("posts").get({url:e}).then(function(t){return u(t)})},r.create=function(e){return t.all("posts").post(e)},r.update=function(t){return t.put()},r}angular.module("rafaelgil.blog.services").factory("PostsService",["Restangular","RestFullResponse","$sce",t])}();