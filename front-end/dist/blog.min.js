angular.module("rafaelgil.blog",["ui.router","rafaelgil.blog.services"]).config(["$httpProvider","$stateProvider","$locationProvider","$urlRouterProvider",function(t,e,o,n){"use strict";var r=window.navigator.userAgent,i=r.indexOf("MSIE ")>=0;o.html5Mode(!i),e.state("posts",{url:"/",templateUrl:"views/posts.html",controller:"PostsController"}),n.otherwise("/")}]),angular.module("rafaelgil.blog").controller("PostsController",["$scope","PostsService",function(t,e){"use strict";t.posts=[];var o,n=function(){e.list().then(function(e){t.posts=e})};t.create=function(){t.showAdd=!0,o?o.rebuild():o=new Pen({editor:document.querySelector("#create"),list:["bold","italic","underline"]})},t.insert=function(){e.create({title:t.newTitle,content:o.getContent(),summary:o.getContent()}).then(function(){n(),t.showAdd=!1,o.destroy()})},t.edit=function(t){t.editor=new Pen("#post_"+t.id),t.editing=!0},t.save=function(t){var o=t.editor;delete t.editor,t.content=o.getContent(),t.summary=t.content,e.update(t).then(function(){o.destroy(),t.editing=!1})};var r=function(){n()};r()}]);